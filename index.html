<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Centón TEI</title>
  <link rel="stylesheet" href="css/tei.css"> <!-- Ajusta si está en otra carpeta -->
</head>
<body>
  <h1>Lectura del Centón</h1>
  <button onclick="cargarCenton()">Mostrar texto</button>
  <div id="centon"></div>

  <script>
    function cargarCenton() {
      fetch("Centon.xml")
        .then(response => response.text())
        .then(str => {
          const parser = new DOMParser();
          const xmlDoc = parser.parseFromString(str, "application/xml");
          const fragmentos = xmlDoc.getElementsByTagName("Fragmento");
          const contenedor = document.getElementById("centon");
          contenedor.innerHTML = "";

          for (let i = 0; i < fragmentos.length; i++) {
            const texto = fragmentos[i].getAttribute("texto");
            const autor = fragmentos[i].getAttribute("autor");

            const linea = document.createElement("div");
            linea.className = "line-number";
            linea.setAttribute("data-n", i + 1);

            const hemistichA = document.createElement("span");
            hemistichA.className = "hemistich a";
            hemistichA.textContent = texto;

            const autorSpan = document.createElement("span");
            autorSpan.className = "variant";
            autorSpan.textContent = ` — ${autor}`;

            linea.appendChild(hemistichA);
            linea.appendChild(autorSpan);
            contenedor.appendChild(linea);
          }
        })
        .catch(error => {
          console.error("Error al cargar Centon.xml:", error);
        });
    }
  </script>
</body>
</html>
